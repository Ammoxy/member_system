(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a54ddc76"],{1276:function(e,t,n){"use strict";var a=n("d784"),r=n("44e7"),i=n("825a"),o=n("1d80"),s=n("4840"),l=n("8aa5"),u=n("50c4"),c=n("14c3"),d=n("9263"),g=n("d039"),p=[].push,f=Math.min,h=4294967295,m=!g((function(){return!RegExp(h,"y")}));a("split",2,(function(e,t,n){var a;return a="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,n){var a=String(o(this)),i=void 0===n?h:n>>>0;if(0===i)return[];if(void 0===e)return[a];if(!r(e))return t.call(a,e,i);var s,l,u,c=[],g=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),f=0,m=new RegExp(e.source,g+"g");while(s=d.call(m,a)){if(l=m.lastIndex,l>f&&(c.push(a.slice(f,s.index)),s.length>1&&s.index<a.length&&p.apply(c,s.slice(1)),u=s[0].length,f=l,c.length>=i))break;m.lastIndex===s.index&&m.lastIndex++}return f===a.length?!u&&m.test("")||c.push(""):c.push(a.slice(f)),c.length>i?c.slice(0,i):c}:"0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:t.call(this,e,n)}:t,[function(t,n){var r=o(this),i=void 0==t?void 0:t[e];return void 0!==i?i.call(t,r,n):a.call(String(r),t,n)},function(e,r){var o=n(a,e,this,r,a!==t);if(o.done)return o.value;var d=i(e),g=String(this),p=s(d,RegExp),v=d.unicode,y=(d.ignoreCase?"i":"")+(d.multiline?"m":"")+(d.unicode?"u":"")+(m?"y":"g"),b=new p(m?d:"^(?:"+d.source+")",y),P=void 0===r?h:r>>>0;if(0===P)return[];if(0===g.length)return null===c(b,g)?[g]:[];var C=0,w=0,_=[];while(w<g.length){b.lastIndex=m?w:0;var x,D=c(b,m?g:g.slice(w));if(null===D||(x=f(u(b.lastIndex+(m?0:w)),g.length))===C)w=l(g,w,v);else{if(_.push(g.slice(C,w)),_.length===P)return _;for(var k=1;k<=D.length-1;k++)if(_.push(D[k]),_.length===P)return _;w=C=x}}return _.push(g.slice(C)),_}]}),!m)},"32f4":function(e,t,n){},"365c":function(e,t,n){"use strict";var a=n("be3b"),r=n("99b1"),i=n.n(r),o={createRole:function(e){return a["a"].post(i.a.CreateRole,e)},roles:function(e,t){return a["a"].get(i.a.Roles,{currentPage:e,perPage:t})},delRoles:function(e){return a["a"].del(i.a.Roles,{id:e})},createUser:function(e){return a["a"].post(i.a.CreateUser,e)},users:function(e,t){return a["a"].get(i.a.Users,{currentPage:e,perPage:t})},delUser:function(e){return a["a"].del(i.a.DelUser,{id:e})},resetPassword:function(e){return a["a"].post(i.a.ResetPassword,e)},createHealthUser:function(e){return a["a"].post(i.a.HealthUser,e)},healthUser:function(){return a["a"].get(i.a.HealthUser,{})},merchants:function(e,t,n){return a["a"].get(i.a.Merchants,{currentPage:e,perPage:t,name:n})},merchantsSelect:function(){return a["a"].get(i.a.MerchantsSelect,{})},createMerchant:function(e){return a["a"].post(i.a.CreateMerchant,e)},areas:function(e,t){return a["a"].get(i.a.Areas,{type:e,parent_id:t})},createBanner:function(e){return a["a"].post(i.a.CreateBanner,e)},banners:function(e,t){return a["a"].get(i.a.Banners,{currentPage:e,perPage:t})},delBanner:function(e){return a["a"].del(i.a.DelBanner,{id:e})},createDocumentType:function(e){return a["a"].post(i.a.CreateDocumentType,e)},documentType:function(e,t){return a["a"].get(i.a.DocumentType,{currentPage:e,perPage:t})},delDocumentType:function(e){return a["a"].del(i.a.DelDocumentType,{id:e})},createDocument:function(e){return a["a"].post(i.a.CreateDocument,e)},document:function(e,t,n){return a["a"].get(i.a.Document,{currentPage:e,perPage:t,document_type:n})},delDocument:function(e){return a["a"].del(i.a.DelDocument,{id:e})},createImg:function(e){return a["a"].post(i.a.CreateImg,e)},imgesList:function(e,t){return a["a"].get(i.a.ImgesList,{currentPage:e,perPage:t})},delImg:function(e){return a["a"].del(i.a.DelImg,{id:e})},createClassify:function(e){return a["a"].post(i.a.CreateClassify,e)},classifies:function(e,t,n){return a["a"].get(i.a.Classify,{currentPage:e,perPage:t,type:n})},delClassify:function(e){return a["a"].del(i.a.Classify,{id:e})},seleClassify:function(e,t){return a["a"].get(i.a.SeleClassify,{type:e,parent_id:t})},createGoods:function(e){return a["a"].post(i.a.CreateGoods,e)},goods:function(e,t,n,r,o){return a["a"].get(i.a.Goods,{currentPage:e,perPage:t,name:n,classify_id:r,on_shelf:o})},goodDetail:function(e){return a["a"].get(i.a.GoodDetail,{id:e})},delGood:function(e){return a["a"].del(i.a.DelGood,{id:e})},createUserGoods:function(e){return a["a"].post(i.a.CreateUserGoods,e)},userGoods:function(e,t,n,r){return a["a"].get(i.a.UserGoods,{currentPage:e,perPage:t,name:n,on_shelf:r})},delUserGood:function(e){return a["a"].del(i.a.DelUserGood,{id:e})},userGoodDetail:function(e){return a["a"].get(i.a.UserGoodDetail,{id:e})},createKeyword:function(e){return a["a"].post(i.a.CreateKeyword,e)},keywords:function(e,t,n){return a["a"].get(i.a.Keywords,{currentPage:e,perPage:t,keyword:n})},delKeyword:function(e){return a["a"].del(i.a.DelKeyword,{id:e})},createActivity:function(e){return a["a"].post(i.a.CreateActivity,e)},activities:function(e,t){return a["a"].get(i.a.Activities,{currentPage:e,perPage:t})},wxUser:function(e,t,n,r){return a["a"].get(i.a.WxUser,{currentPage:e,perPage:t,user_id:n,nickname:r})},userInfo:function(e,t,n,r){return a["a"].get(i.a.UserInfo,{currentPage:e,perPage:t,name:n,state:r})},healthCheck:function(e,t){return a["a"].post(i.a.HealthCheck,{id:e,state:t})},healthUserList:function(e,t,n){return a["a"].get(i.a.HealthUserList,{currentPage:e,perPage:t,name:n})},healthApplyList:function(e,t,n,r){return a["a"].get(i.a.HealthApplyList,{currentPage:e,perPage:t,name:n,state:r})},withdrawsList:function(e,t,n,r){return a["a"].get(i.a.WithdrawsList,{currentPage:e,perPage:t,name:n,state:r})},withdrawsCheck:function(e,t,n){return a["a"].post(i.a.WithdrawsCheck,{id:e,state:t,remark:n})},underlingUser:function(e,t,n){return a["a"].get(i.a.UnderlingUser,{currentPage:e,perPage:t,user_id:n})},commissionSource:function(e,t,n){return a["a"].get(i.a.CommissionSource,{currentPage:e,perPage:t,user_id:n})},merCommission:function(e,t,n){return a["a"].get(i.a.MerCommission,{currentPage:e,perPage:t,merchant_id:n})},moneyEmpty:function(e){return a["a"].post(i.a.MoneyEmpty,{user_id:e})},creationQrCode:function(e){return a["a"].post(i.a.CreationQrCode,{id:e})},createSpecialists:function(e){return a["a"].post(i.a.CreateSpecialists,e)},specialists:function(e,t,n){return a["a"].get(i.a.Specialists,{currentPage:e,perPage:t,name:n})},delSpecialist:function(e){return a["a"].del(i.a.DelSpecialist,{id:e})},userOrder:function(e,t,n,r,o){return a["a"].get(i.a.UserOrder,{currentPage:e,perPage:t,status:n,no:r,good_id:o})},shopingpInfo:function(e,t){return a["a"].get(i.a.ShopingpInfo,{order_id:e,type:t})},recaptionInfo:function(e,t){return a["a"].get(i.a.RecaptionInfo,{order_id:e,type:t})},orders:function(e,t,n,r,o){return a["a"].get(i.a.Orders,{currentPage:e,perPage:t,status:n,no:r,good_id:o})},ordersGoods:function(e){return a["a"].get(i.a.OrdersGoods,{order_id:e})},confirmShipments:function(e,t,n,r){return a["a"].post(i.a.ConfirmShipments,{order_id:e,type:t,express_no:n,logistics_id:r})},creationLogistic:function(e){return a["a"].post(i.a.CreationLogistic,e)},logistics:function(e,t,n){return a["a"].get(i.a.Logistics,{currentPage:e,perPage:t,name:n})},delLogistic:function(e){return a["a"].del(i.a.DelLogistic,{id:e})},OrderInquire:function(e,t){return a["a"].get(i.a.OrderInquire,{express_no:e,logistics_id:t})}};t["a"]=o},"3a3e":function(e,t,n){"use strict";n("32f4")},"87ad":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{"element-loading-text":"拼命加载中"}},[n("div",{staticClass:"handle-box"},[n("div",{staticClass:"btn"},[n("el-button",{attrs:{type:"primary"},on:{click:e.addBanner}},[e._v("添加图片")])],1)]),n("el-dialog",{attrs:{title:e.isAdd?"添加图片":"编辑",center:"",visible:e.dialogBanner,"close-on-click-modal":!1,width:"800px"},on:{"update:visible":function(t){e.dialogBanner=t},close:e.close}},[n("el-form",{attrs:{"label-width":"80px",model:e.form}},[n("el-form-item",{attrs:{label:"图片"}},[n("el-upload",{ref:"upload",attrs:{action:"https://api.fengniaotuangou.cn/api/upload",limit:1,"before-upload":e.beforeAvatarUpload,"on-success":e.handleAvatarSuccess,"on-remove":e.handleRemove,"list-type":"picture-card","on-exceed":e.handleExceed,"file-list":e.fileLists,"auto-upload":!0,"on-change":e.handleChange}},[n("i",{staticClass:"el-icon-plus",attrs:{slot:"default"},slot:"default"})])],1),n("el-form-item",{attrs:{label:"显示位置"}},[n("el-select",{attrs:{placeholder:"请选择显示位置"},model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}},e._l(e.picTyList,(function(e){return n("el-option",{key:e.val,attrs:{label:e.label,value:e.val}})})),1)],1),n("div",{staticClass:"submit"},[n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:e.upload}},[e._v("提交")])],1)],1)],1)],1),n("el-table",{attrs:{data:e.tableDate,border:"","header-cell-style":{background:"#f0f0f0"},"max-height":"620"}},[n("el-table-column",{attrs:{prop:"id",label:"轮播图ID"}}),n("el-table-column",{attrs:{prop:"image",label:"缩略图"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.image?n("div",[n("el-popover",{attrs:{placement:"top-start",title:"",trigger:"click"}},[n("img",{staticStyle:{"max-width":"800px","max-height":"800px"},attrs:{src:t.row.image}}),n("img",{staticStyle:{"max-width":"180px","max-height":"80px"},attrs:{slot:"reference",src:t.row.image},slot:"reference"})])],1):n("div",[n("span",[e._v("--暂无图片--")])])]}}])}),n("el-table-column",{attrs:{prop:"type",label:"显示位置"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.type?n("div",[n("span",[e._v("小程序分类页面头部图片")])]):e._e(),2==t.row.type?n("div",[n("span",[e._v("其他")])]):e._e()]}}])}),n("el-table-column",{attrs:{prop:"updated_at",label:"更新时间"}}),n("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(n){return e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]),n("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(n){return e.handleDelete(t.$index,t.row)}}},[e._v("删除")])]}}])})],1),n("div",{staticClass:"block"},[n("el-pagination",{attrs:{"current-page":e.current,"page-sizes":[10,20,30,40,50],"page-size":e.size,layout:"sizes, prev, pager, next, jumper",total:e.total},on:{"current-change":e.currentChange,"update:currentPage":function(t){e.current=t},"update:current-page":function(t){e.current=t},"size-change":e.sizeChange}})],1),n("el-dialog",{attrs:{visible:e.dialogDel,title:"删除图片",width:"20%",align:"center","close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogDel=t}}},[n("div",{staticStyle:{"font-size":"20px","margin-bottom":"30px"}},[e._v("是否删除")]),n("span",[n("el-button",{attrs:{type:"primary"},on:{click:e.toDel}},[e._v("删除")]),n("el-button",{attrs:{type:"danger"},on:{click:function(t){e.dialogDel=!1}}},[e._v("取消")])],1)])],1)},r=[],i=(n("4160"),n("ac1f"),n("1276"),n("159b"),n("365c")),o=n("bc3a"),s=n.n(o),l={name:"banner",data:function(){return{loading:!0,dialogBanner:!1,disabled:!1,dialogDel:!1,tableDate:[],current:1,size:10,total:0,qiniuaddr:"https://tu.fengniaotuangou.cn",hasNewImage:!1,form:{image:"",type:""},picTyList:[{val:1,label:"小程序分类页面头部图片"},{val:2,label:"其他"}],fileLists:[],is_show:!1,isAdd:!1}},mounted:function(){this.getPic(this.current,this.size)},methods:{getPic:function(e,t){var n=this;i["a"].imgesList(e,t).then((function(e){n.loading=!1,n.tableDate=e.result.data,n.total=e.result.total})).catch((function(e){n.loading=!1}))},currentChange:function(e){var t=this;t.current=e,t.loading=!0,t.getPic(e,t.size)},sizeChange:function(e){var t=this;t.size=e,t.loading=!0,t.getPic(1,e),t.current=1},handleEdit:function(e,t){var n=this;n.dialogBanner=!0,n.isAdd=!1,n.form={image:t.image,type:t.type,id:t.id};var a=n.form.image.split(",");a.forEach((function(e){var t=new Object;t.url=e,n.fileLists.push(t)}))},handleDelete:function(e,t){var n=this;n.dialogDel=!0,n.id=t.id},toDel:function(){var e=this;e.dialogDel=!1,i["a"].delImg(e.id).then((function(t){e.$message.success("删除成功"),e.dialogDel=!1,e.getPic()}))},upload:function(){var e=this;if(e.form.image){var t=e.$loading({lock:!0,text:"提交中...",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});i["a"].createImg(e.form).then((function(n){t.close(),1e4==n.code&&(e.$message.success("添加成功"),e.getPic(),e.form={image:"",type:""},e.dialogBanner=!1)})).catch((function(e){t.close()}))}else e.$message.warning("请填写完整信息")},addBanner:function(){var e=this;e.dialogBanner=!0,e.hasNewImage=!1,e.isAdd=!0,e.form={image:"",type:""},e.$refs.upload&&e.$refs.upload.clearFiles()},close:function(){var e=this;e.fileLists=[]},handleRemove:function(e,t){var n=this;n.fileLists=t,n.form.image=""},beforeAvatarUpload:function(e){var t=e.size/1024/1024<2;return t||this.$message.error("上传图片大小不能超过 2MB!"),t},handleAvatarSuccess:function(e,t){var n=this;n.form.image=t.response.data},handleExceed:function(e,t){var n=this;n.$message.error("上传图片不能超过1张!")},handleChange:function(e,t){var n=this;n.fileLists=t},getQiniuToken:function(){var e=this;s.a.get("https://api.fengniaotuangou.cn/api/upload/token").then((function(t){e.imgData.token=t.data.uptoken}))}}},u=l,c=(n("3a3e"),n("2877")),d=Object(c["a"])(u,a,r,!1,null,"107e9794",null);t["default"]=d.exports}}]);
//# sourceMappingURL=chunk-a54ddc76.423db914.js.map