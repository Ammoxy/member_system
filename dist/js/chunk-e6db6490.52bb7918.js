(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e6db6490"],{"04e6":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{"element-loading-text":"拼命加载中"}},[a("div",{staticClass:"handle-box"},[a("div",{staticClass:"btn"},[a("el-button",{attrs:{type:"primary"},on:{click:e.addClassify}},[e._v("添加分类")])],1),a("div",{staticClass:"btn"},[a("el-select",{attrs:{placeholder:"请选择分类"},on:{change:e.changeClassify},model:{value:e.classifyState,callback:function(t){e.classifyState=t},expression:"classifyState"}},e._l(e.classifyList,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.search},slot:"append"}),a("el-button",{attrs:{slot:"append",icon:"el-icon-refresh"},on:{click:e.refresh},slot:"append"})],1)]),a("el-table",{attrs:{data:e.tableDate,border:"","header-cell-style":{background:"#f0f0f0"},"max-height":"620"}},[a("el-table-column",{attrs:{prop:"id",label:"ID"}}),a("el-table-column",{attrs:{prop:"sort",label:"排序"}}),a("el-table-column",{attrs:{prop:"name",label:"商品类型"}}),a("el-table-column",{attrs:{prop:"type",label:"类型级别"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.type?a("div",[a("span",[e._v("一级分类")])]):e._e(),2==t.row.type?a("div",[a("span",[e._v("二级分类")])]):e._e(),3==t.row.type?a("div",[a("span",[e._v("三级分类")])]):e._e()]}}])}),a("el-table-column",{attrs:{prop:"img",label:"分类图标"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.img?a("div",[a("el-popover",{attrs:{placement:"top-start",title:"",trigger:"click"}},[a("img",{staticStyle:{"max-width":"800px","max-height":"800px"},attrs:{src:t.row.img}}),a("img",{staticStyle:{"max-width":"180px","max-height":"80px"},attrs:{slot:"reference",src:t.row.img},slot:"reference"})])],1):a("div",[a("span",[e._v("--暂无图片--")])])]}}])}),a("el-table-column",{attrs:{prop:"is_show",label:"是否显示"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-switch",{attrs:{"active-color":"#2a9f93"},on:{change:function(a){return e.notifyChange(t.row.is_show,t.$index,t.row)}},model:{value:t.row.is_show,callback:function(a){e.$set(t.row,"is_show",a)},expression:"scope.row.is_show"}})]}}])}),a("el-table-column",{attrs:{prop:"updated_at",label:"更新时间"}}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){return e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(a){return e.handleDelete(t.$index,t.row)}}},[e._v("删除")])]}}])})],1),a("div",{staticClass:"block"},[a("el-pagination",{attrs:{"current-page":e.current,"page-sizes":[10,20,30,40,50],"page-size":e.size,layout:"sizes, prev, pager, next, jumper",total:e.total},on:{"current-change":e.currentChange,"update:currentPage":function(t){e.current=t},"update:current-page":function(t){e.current=t},"size-change":e.sizeChange}})],1),a("el-dialog",{attrs:{visible:e.dialogClassify,title:"添加分类",width:"1000px"},on:{"update:visible":function(t){e.dialogClassify=t},close:e.close}},[a("el-form",{attrs:{"label-width":"100px",model:e.classifyInfo}},[a("el-form-item",{attrs:{label:"名称"}},[a("el-input",{model:{value:e.classifyInfo.name,callback:function(t){e.$set(e.classifyInfo,"name",t)},expression:"classifyInfo.name"}})],1),a("el-form-item",{attrs:{label:"上级"}},[a("el-select",{staticStyle:{"margin-right":"10px",width:"300px"},attrs:{placeholder:"请选择上级(不选为添加一级分类)",clearable:""},on:{change:e.parentChange},model:{value:e.classifyInfo.parent_id,callback:function(t){e.$set(e.classifyInfo,"parent_id",t)},expression:"classifyInfo.parent_id"}},e._l(e.parentList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id,disabled:3==e.type}})})),1)],1),a("el-form-item",{attrs:{label:"是否显示分类"}},[a("el-radio-group",{model:{value:e.classifyInfo.is_show,callback:function(t){e.$set(e.classifyInfo,"is_show",t)},expression:"classifyInfo.is_show"}},[a("el-radio",{attrs:{label:1}},[e._v("是")]),a("el-radio",{attrs:{label:2}},[e._v("否")])],1)],1),a("el-form-item",{attrs:{label:"排序"}},[a("el-input",{model:{value:e.classifyInfo.sort,callback:function(t){e.$set(e.classifyInfo,"sort",t)},expression:"classifyInfo.sort"}})],1),e.have_img?a("el-form-item",{attrs:{label:"图片"}},[a("el-upload",{ref:"upload",attrs:{action:"https://api.fengniaotuangou.cn/api/upload",limit:1,"before-upload":e.beforeAvatarUpload,"on-success":e.handleAvatarSuccess,"on-remove":e.handleRemove,"on-exceed":e.handleExceed,"auto-upload":!0,"on-change":e.handleChange,"list-type":"picture-card","file-list":e.files}},[a("i",{staticClass:"el-icon-plus",attrs:{slot:"default"},slot:"default"})])],1):e._e(),a("div",{staticClass:"submit"},[a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.newClassify}},[e._v("提交")])],1)],1)],1)],1),a("el-dialog",{attrs:{visible:e.dialogDel,title:"删除分类",width:"20%",align:"center","close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogDel=t}}},[a("div",{staticStyle:{"font-size":"20px","margin-bottom":"30px"}},[e._v("是否删除")]),a("span",[a("el-button",{attrs:{type:"primary"},on:{click:e.toDel}},[e._v("删除")]),a("el-button",{attrs:{type:"danger"},on:{click:function(t){e.dialogDel=!1}}},[e._v("取消")])],1)])],1)},s=[],r=(a("7db0"),a("4160"),a("caad"),a("b0c0"),a("a9e3"),a("ac1f"),a("2532"),a("1276"),a("159b"),a("365c")),i={inject:["reload"],data:function(){return{loading:!0,tableDate:[],dialogClassify:!1,dialogDel:!1,classifyInfo:{name:"",img:"",is_show:1,parent_id:"",type:"",sort:0},files:[],current:1,size:10,total:0,parentList:[],typeList:[],is_show:!1,classifyState:"",state:"",classifyList:[{value:1,label:"一级分类"},{value:2,label:"二级分类"},{value:3,label:"三级分类"}],have_img:!1}},mounted:function(){this.getClassify(this.current,this.size),this.getClassifyList(),this.permissionData=localStorage.getItem("permissions").split(",")},methods:{getClassify:function(e,t,a){var n=this;r["a"].classifies(e,t,a).then((function(e){console.log(e),n.loading=!1,e.result.data.forEach((function(e){1==e.is_show?e.is_show=!0:e.is_show=!1})),n.tableDate=e.result.data,n.total=e.result.total})).catch((function(e){n.loading=!1}))},currentChange:function(e){var t=this;t.current=e,t.loading=!0,t.classifyState?t.getClassify(e,t.size,t.state):t.getClassify(e,t.size)},sizeChange:function(e){var t=this;t.size=e,t.loading=!0,t.classifyState?t.getClassify(1,e,t.state):t.getClassify(1,e),t.current=1},changeClassify:function(){var e=this;switch(e.classifyState){case 1:e.state=1,e.have_img=!1;break;case 2:e.state=2,e.have_img=!1;break;case 3:e.state=3,e.have_img=!0}},search:function(){var e=this;e.current=1,e.loading=!0,e.getClassify(e.current,e.size,e.state)},addClassify:function(){var e=this;e.permissionData.includes("classifyGoodAdd")?e.dialogClassify=!0:e.$message.warning("无权操作"),e.have_img=!1,e.have_img?e.classifyInfo={name:"",img:"",is_show:1,parent_id:"",type:"",sort:0}:e.classifyInfo={name:"",is_show:1,parent_id:"",type:"",sort:0}},close:function(){var e=this;e.files=[]},getClassifyList:function(){var e=this;r["a"].seleClassify().then((function(t){e.parentList=t.result,t.result.forEach((function(e){1==e.type?e.name=e.name+" (一级)":2==e.type?e.name=e.name+" (二级)":3==e.type&&(e.name=e.name+" (三级)")}))}))},parentChange:function(e){var t=this;if(e){var a={};a=this.parentList.find((function(t){return t.id==e}));var n=a.type;switch(n){case 1:t.classifyInfo.type=2,t.have_img=!1,t.classifyInfo.img="";break;case 2:t.classifyInfo.type=3,t.have_img=!0;break}}else t.classifyInfo.type=1,t.have_img=!1;t.classifyInfo.parent_id=e},newClassify:function(){var e=this;""==e.classifyInfo.parent_id&&(e.classifyInfo.parent_id=0,e.classifyInfo.type=1),e.classifyInfo.name?r["a"].createClassify(e.classifyInfo).then((function(t){1e4==t.code&&(e.$message.success("提交成功"),e.dialogClassify=!1,e.getClassify(e.current,e.size),window.location.reload())})):e.$message.warning("请填写分类名称")},notifyChange:function(e,t,a){var n=this;1==e?(n.classifyInfo={name:a.name,img:a.img,is_show:1,parent_id:a.parent_id,type:a.type,id:a.id},r["a"].createClassify(n.classifyInfo).then((function(e){n.$message.success("提交成功"),n.getClassify(n.current,n.size)}))):(n.classifyInfo={name:a.name,img:a.img,is_show:2,parent_id:a.parent_id,type:a.type,id:a.id,sort:a.sort},r["a"].createClassify(n.classifyInfo).then((function(e){n.$message.success("提交成功"),n.getClassify(n.current,n.size)})))},handleEdit:function(e,t){var a=this;if(a.permissionData.includes("classifyGoodEdit")?a.dialogClassify=!0:a.$message.warning("无权操作"),3==t.type){a.have_img=!0,0==Number(t.is_show)?a.classifyInfo={name:t.name,img:t.img,is_show:2,parent_id:t.parent_id,type:t.type,id:t.id,sort:t.sort}:a.classifyInfo={name:t.name,img:t.img,is_show:1,parent_id:t.parent_id,type:t.type,id:t.id,sort:t.sort};var n=a.classifyInfo.img.split(",");n.forEach((function(e){var t=new Object;t.url=e,a.files.push(t)}))}else a.have_img=!1,0==Number(t.is_show)?a.classifyInfo={name:t.name,is_show:2,parent_id:t.parent_id,type:t.type,id:t.id,sort:t.sort}:a.classifyInfo={name:t.name,is_show:1,parent_id:t.parent_id,type:t.type,id:t.id,sort:t.sort}},handleDelete:function(e,t){var a=this;a.permissionData.includes("classifyGoodDel")?a.dialogClassify=!0:a.$message.warning("无权操作"),a.id=t.id},toDel:function(){var e=this;r["a"].delClassify(e.id).then((function(t){e.$message.success("删除成功"),e.dialogDel=!1,e.getClassify(e.current,e.size)}))},refresh:function(){this.reload()},handleRemove:function(e,t){var a=this;a.files=t,a.classifyInfo.img=""},beforeAvatarUpload:function(e){var t=307200;return t||this.$message.error("上传图片大小不能超过300KB"),t},handleAvatarSuccess:function(e,t){var a=this;a.classifyInfo.img=t.response.data},handleExceed:function(e,t){var a=this;a.$message.error("上传图片不能超过1张!")},handleChange:function(e,t){var a=this;a.files=t}}},o=i,l=a("2877"),c=Object(l["a"])(o,n,s,!1,null,"3e7cdbc6",null);t["default"]=c.exports},1276:function(e,t,a){"use strict";var n=a("d784"),s=a("44e7"),r=a("825a"),i=a("1d80"),o=a("4840"),l=a("8aa5"),c=a("50c4"),u=a("14c3"),f=a("9263"),d=a("d039"),p=[].push,g=Math.min,h=4294967295,m=!d((function(){return!RegExp(h,"y")}));n("split",2,(function(e,t,a){var n;return n="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,a){var n=String(i(this)),r=void 0===a?h:a>>>0;if(0===r)return[];if(void 0===e)return[n];if(!s(e))return t.call(n,e,r);var o,l,c,u=[],d=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),g=0,m=new RegExp(e.source,d+"g");while(o=f.call(m,n)){if(l=m.lastIndex,l>g&&(u.push(n.slice(g,o.index)),o.length>1&&o.index<n.length&&p.apply(u,o.slice(1)),c=o[0].length,g=l,u.length>=r))break;m.lastIndex===o.index&&m.lastIndex++}return g===n.length?!c&&m.test("")||u.push(""):u.push(n.slice(g)),u.length>r?u.slice(0,r):u}:"0".split(void 0,0).length?function(e,a){return void 0===e&&0===a?[]:t.call(this,e,a)}:t,[function(t,a){var s=i(this),r=void 0==t?void 0:t[e];return void 0!==r?r.call(t,s,a):n.call(String(s),t,a)},function(e,s){var i=a(n,e,this,s,n!==t);if(i.done)return i.value;var f=r(e),d=String(this),p=o(f,RegExp),y=f.unicode,v=(f.ignoreCase?"i":"")+(f.multiline?"m":"")+(f.unicode?"u":"")+(m?"y":"g"),_=new p(m?f:"^(?:"+f.source+")",v),b=void 0===s?h:s>>>0;if(0===b)return[];if(0===d.length)return null===u(_,d)?[d]:[];var w=0,C=0,I=[];while(C<d.length){_.lastIndex=m?C:0;var x,P=u(_,m?d:d.slice(C));if(null===P||(x=g(c(_.lastIndex+(m?0:C)),d.length))===w)C=l(d,C,y);else{if(I.push(d.slice(w,C)),I.length===b)return I;for(var k=1;k<=P.length-1;k++)if(I.push(P[k]),I.length===b)return I;C=w=x}}return I.push(d.slice(w)),I}]}),!m)},"365c":function(e,t,a){"use strict";var n=a("be3b"),s=a("99b1"),r=a.n(s),i={createRole:function(e){return n["a"].post(r.a.CreateRole,e)},roles:function(e,t){return n["a"].get(r.a.Roles,{currentPage:e,perPage:t})},delRoles:function(e){return n["a"].del(r.a.Roles,{id:e})},createUser:function(e){return n["a"].post(r.a.CreateUser,e)},users:function(e,t){return n["a"].get(r.a.Users,{currentPage:e,perPage:t})},delUser:function(e){return n["a"].del(r.a.DelUser,{id:e})},resetPassword:function(e){return n["a"].post(r.a.ResetPassword,e)},createHealthUser:function(e){return n["a"].post(r.a.HealthUser,e)},healthUser:function(){return n["a"].get(r.a.HealthUser,{})},merchants:function(e,t,a){return n["a"].get(r.a.Merchants,{currentPage:e,perPage:t,name:a})},merchantsSelect:function(){return n["a"].get(r.a.MerchantsSelect,{})},createMerchant:function(e){return n["a"].post(r.a.CreateMerchant,e)},areas:function(e,t){return n["a"].get(r.a.Areas,{type:e,parent_id:t})},createBanner:function(e){return n["a"].post(r.a.CreateBanner,e)},banners:function(e,t){return n["a"].get(r.a.Banners,{currentPage:e,perPage:t})},delBanner:function(e){return n["a"].del(r.a.DelBanner,{id:e})},createDocumentType:function(e){return n["a"].post(r.a.CreateDocumentType,e)},documentType:function(e,t){return n["a"].get(r.a.DocumentType,{currentPage:e,perPage:t})},delDocumentType:function(e){return n["a"].del(r.a.DelDocumentType,{id:e})},createDocument:function(e){return n["a"].post(r.a.CreateDocument,e)},document:function(e,t,a){return n["a"].get(r.a.Document,{currentPage:e,perPage:t,document_type:a})},delDocument:function(e){return n["a"].del(r.a.DelDocument,{id:e})},createClassify:function(e){return n["a"].post(r.a.CreateClassify,e)},classifies:function(e,t,a){return n["a"].get(r.a.Classify,{currentPage:e,perPage:t,type:a})},delClassify:function(e){return n["a"].del(r.a.Classify,{id:e})},seleClassify:function(e,t){return n["a"].get(r.a.SeleClassify,{type:e,parent_id:t})},createGoods:function(e){return n["a"].post(r.a.CreateGoods,e)},goods:function(e,t,a,s,i){return n["a"].get(r.a.Goods,{currentPage:e,perPage:t,name:a,classify_id:s,on_shelf:i})},goodDetail:function(e){return n["a"].get(r.a.GoodDetail,{id:e})},createUserGoods:function(e){return n["a"].post(r.a.CreateUserGoods,e)},userGoods:function(e,t,a,s){return n["a"].get(r.a.UserGoods,{currentPage:e,perPage:t,name:a,on_shelf:s})},userGoodDetail:function(e){return n["a"].get(r.a.UserGoodDetail,{id:e})},createKeyword:function(e){return n["a"].post(r.a.CreateKeyword,e)},keywords:function(e,t,a){return n["a"].get(r.a.Keywords,{currentPage:e,perPage:t,keyword:a})},delKeyword:function(e){return n["a"].del(r.a.DelKeyword,{id:e})},createActivity:function(e){return n["a"].post(r.a.CreateActivity,e)},activities:function(e,t){return n["a"].get(r.a.Activities,{currentPage:e,perPage:t})},wxUser:function(e,t,a,s){return n["a"].get(r.a.WxUser,{currentPage:e,perPage:t,user_id:a,nickname:s})},userInfo:function(e,t,a,s){return n["a"].get(r.a.UserInfo,{currentPage:e,perPage:t,name:a,state:s})},healthCheck:function(e,t){return n["a"].post(r.a.HealthCheck,{id:e,state:t})},healthUserList:function(e,t,a){return n["a"].get(r.a.HealthUserList,{currentPage:e,perPage:t,name:a})},healthApplyList:function(e,t,a,s){return n["a"].get(r.a.HealthApplyList,{currentPage:e,perPage:t,name:a,state:s})},withdrawsList:function(e,t,a,s){return n["a"].get(r.a.WithdrawsList,{currentPage:e,perPage:t,name:a,state:s})},withdrawsCheck:function(e,t,a){return n["a"].post(r.a.WithdrawsCheck,{id:e,state:t,remark:a})},underlingUser:function(e,t,a){return n["a"].get(r.a.UnderlingUser,{currentPage:e,perPage:t,user_id:a})},commissionSource:function(e,t,a){return n["a"].get(r.a.CommissionSource,{currentPage:e,perPage:t,user_id:a})},merCommission:function(e,t,a){return n["a"].get(r.a.MerCommission,{currentPage:e,perPage:t,merchant_id:a})},moneyEmpty:function(e){return n["a"].post(r.a.MoneyEmpty,{user_id:e})},createSpecialists:function(e){return n["a"].post(r.a.CreateSpecialists,e)},specialists:function(e,t,a){return n["a"].get(r.a.Specialists,{currentPage:e,perPage:t,name:a})},delSpecialist:function(e){return n["a"].del(r.a.DelSpecialist,{id:e})},userOrder:function(e,t,a,s,i){return n["a"].get(r.a.UserOrder,{currentPage:e,perPage:t,status:a,no:s,good_id:i})},shopingpInfo:function(e,t){return n["a"].get(r.a.ShopingpInfo,{order_id:e,type:t})},recaptionInfo:function(e,t){return n["a"].get(r.a.RecaptionInfo,{order_id:e,type:t})},orders:function(e,t,a,s,i){return n["a"].get(r.a.Orders,{currentPage:e,perPage:t,status:a,no:s,good_id:i})},ordersGoods:function(e){return n["a"].get(r.a.OrdersGoods,{order_id:e})},confirmShipments:function(e,t){return n["a"].post(r.a.ConfirmShipments,{order_id:e,type:t})}};t["a"]=i},5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,a){var n=a("1d80"),s=a("5899"),r="["+s+"]",i=RegExp("^"+r+r+"*"),o=RegExp(r+r+"*$"),l=function(e){return function(t){var a=String(n(t));return 1&e&&(a=a.replace(i,"")),2&e&&(a=a.replace(o,"")),a}};e.exports={start:l(1),end:l(2),trim:l(3)}},7156:function(e,t,a){var n=a("861d"),s=a("d2bb");e.exports=function(e,t,a){var r,i;return s&&"function"==typeof(r=t.constructor)&&r!==a&&n(i=r.prototype)&&i!==a.prototype&&s(e,i),e}},a9e3:function(e,t,a){"use strict";var n=a("83ab"),s=a("da84"),r=a("94ca"),i=a("6eeb"),o=a("5135"),l=a("c6b6"),c=a("7156"),u=a("c04e"),f=a("d039"),d=a("7c73"),p=a("241c").f,g=a("06cf").f,h=a("9bf2").f,m=a("58a8").trim,y="Number",v=s[y],_=v.prototype,b=l(d(_))==y,w=function(e){var t,a,n,s,r,i,o,l,c=u(e,!1);if("string"==typeof c&&c.length>2)if(c=m(c),t=c.charCodeAt(0),43===t||45===t){if(a=c.charCodeAt(2),88===a||120===a)return NaN}else if(48===t){switch(c.charCodeAt(1)){case 66:case 98:n=2,s=49;break;case 79:case 111:n=8,s=55;break;default:return+c}for(r=c.slice(2),i=r.length,o=0;o<i;o++)if(l=r.charCodeAt(o),l<48||l>s)return NaN;return parseInt(r,n)}return+c};if(r(y,!v(" 0o1")||!v("0b1")||v("+0x1"))){for(var C,I=function(e){var t=arguments.length<1?0:e,a=this;return a instanceof I&&(b?f((function(){_.valueOf.call(a)})):l(a)!=y)?c(new v(w(t)),a,I):w(t)},x=n?p(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),P=0;x.length>P;P++)o(v,C=x[P])&&!o(I,C)&&h(I,C,g(v,C));I.prototype=_,_.constructor=I,i(s,y,I)}}}]);
//# sourceMappingURL=chunk-e6db6490.52bb7918.js.map